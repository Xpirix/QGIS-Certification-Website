{% extends "layouts/changes_base.html" %}
{% load thumbnail %}
{% load static %}
{% load custom_markup %}
{% block title %}Versions - {{ block.super }}{% endblock %}

{% block extra_head %}
{% endblock %}

{% block page_title %}
    <h1>Versions</h1>
{% endblock page_title %}

{% block content %}
    <div class="level">
        <div class="level-left">
            <h2 class="title is-4">
                Versions
            </h2>
        </div>
        <div class="level-right buttons">
            {% if user.is_authenticated %}
                {% if user.is_staff or user == the_project.owner or user in the_project.changelog_managers.all %}
                    <a class="button is-success" href='{% url "version-create" project_slug %}' title="Create New Version">
                        <span class="icon">
                            <i class="fas fa-plus"></i>
                        </span>
                        <span>New Version</span>
                    </a>
                {% endif %}
            {% endif %}
            {% if versions %}
                <a class="button is-light" href='{% url "latest-version-atom-feed" project_slug %}' title="Atom Feed for Latest Version of {{ project.name }}">
                    <span class="icon">
                        <i class="fas fa-rss"></i>
                    </span>
                </a>
            {% endif %}
        </div>
    </div>
    {% if num_versions == 0 %}
        <div class="notification is-warning is-light">
            <h3>No versions are defined.</h3>
        </div>
    {% else %}
        <div id="grid-view" class="columns is-multiline plugins-list-grid">
            {% for version in versions %}
                {% include 'version/includes/version-list-card.html' %}
            {%  endfor %}
        </div>
    {%  endif %}
{% endblock %}
